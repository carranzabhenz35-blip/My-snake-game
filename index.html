<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BHENZ SNAKE â€“ ULTRA GOD MODE</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
text-align:center;
background:black;
color:white;
overflow:hidden;
}

canvas{
background:#000;
border:4px solid #00ff99;
border-radius:20px;
box-shadow:0 0 40px #00ff99;
width:92vw;
max-width:430px;
height:92vw;
max-height:430px;
}

h1{
color:#00ff99;
text-shadow:0 0 20px #00ff99;
margin:10px;
}

.panel{
font-size:14px;
}

#gameOver{
position:fixed;
width:100%;
height:100%;
background:rgba(0,0,0,0.9);
display:none;
justify-content:center;
align-items:center;
flex-direction:column;
z-index:10;
}
</style>
</head>

<body>

<h1>ðŸ‘‘ BHENZ SNAKE â€“ GOD MODE ðŸ‘‘</h1>

<div class="panel">
Score: <span id="score">0</span> |
High: <span id="highScore">0</span> |
Level: <span id="level">1</span>
</div>

<br>
<canvas id="game" width="420" height="420"></canvas>

<div id="gameOver">
<h2>ðŸ’€ YOU FELL FROM GOD MODE</h2>
<p>Final Score: <span id="finalScore"></span></p>
<button onclick="startGame()">ASCEND AGAIN</button>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

const box=21;
let snake,food,dir,score,level,speed,game;
let obstacles=[];
let powerUp=null;
let particles=[];
let highScore=localStorage.getItem("godHigh")||0;
document.getElementById("highScore").innerText=highScore;

function startGame(){
snake=[{x:210,y:210}];
dir="RIGHT";
score=0;
level=1;
speed=120;
obstacles=[];
powerUp=null;
document.getElementById("score").innerText=score;
document.getElementById("level").innerText=level;
food=randomPos();
clearInterval(game);
document.getElementById("gameOver").style.display="none";
game=setInterval(draw,speed);
}

function randomPos(){
return{
x:Math.floor(Math.random()*20)*box,
y:Math.floor(Math.random()*20)*box
};
}

document.addEventListener("keydown",e=>{
if(e.key==="ArrowUp"&&dir!=="DOWN")dir="UP";
if(e.key==="ArrowDown"&&dir!=="UP")dir="DOWN";
if(e.key==="ArrowLeft"&&dir!=="RIGHT")dir="LEFT";
if(e.key==="ArrowRight"&&dir!=="LEFT")dir="RIGHT";
});

/* SWIPE */
let sx=0,sy=0;
canvas.addEventListener("touchstart",e=>{
sx=e.touches[0].clientX;
sy=e.touches[0].clientY;
});
canvas.addEventListener("touchmove",e=>{
let dx=e.touches[0].clientX-sx;
let dy=e.touches[0].clientY-sy;
if(Math.abs(dx)>Math.abs(dy)){
if(dx>0&&dir!=="LEFT")dir="RIGHT";
else if(dx<0&&dir!=="RIGHT")dir="LEFT";
}else{
if(dy>0&&dir!=="UP")dir="DOWN";
else if(dy<0&&dir!=="DOWN")dir="UP";
}
});

function draw(){

ctx.clearRect(0,0,420,420);

/* PARTICLE TRAIL */
particles.push({x:snake[0].x+10,y:snake[0].y+10,life:20});
particles.forEach(p=>{
ctx.fillStyle="rgba(0,255,150,"+(p.life/20)+")";
ctx.beginPath();
ctx.arc(p.x,p.y,5,0,Math.PI*2);
ctx.fill();
p.life--;
});
particles=particles.filter(p=>p.life>0);

/* FOOD */
ctx.fillStyle="red";
ctx.beginPath();
ctx.arc(food.x+10,food.y+10,8,0,Math.PI*2);
ctx.fill();

/* POWER UP */
if(score>5 && !powerUp && Math.random()<0.01){
powerUp=randomPos();
}
if(powerUp){
ctx.fillStyle="cyan";
ctx.beginPath();
ctx.arc(powerUp.x+10,powerUp.y+10,8,0,Math.PI*2);
ctx.fill();
}

/* OBSTACLES */
if(level>=3 && obstacles.length<level){
obstacles.push(randomPos());
}
ctx.fillStyle="purple";
obstacles.forEach(o=>{
ctx.fillRect(o.x,o.y,box,box);
});

let headX=snake[0].x;
let headY=snake[0].y;

if(dir==="UP")headY-=box;
if(dir==="DOWN")headY+=box;
if(dir==="LEFT")headX-=box;
if(dir==="RIGHT")headX+=box;

/* WALL PASS */
if(headX<0)headX=399;
if(headX>=420)headX=0;
if(headY<0)headY=399;
if(headY>=420)headY=0;

/* COLLISION BODY */
for(let i=0;i<snake.length;i++){
if(headX===snake[i].x&&headY===snake[i].y)endGame();
}

/* COLLISION OBSTACLE */
obstacles.forEach(o=>{
if(headX===o.x&&headY===o.y)endGame();
});

let newHead={x:headX,y:headY};

/* EAT FOOD */
if(headX===food.x&&headY===food.y){
score++;
document.getElementById("score").innerText=score;

if(score%5===0){
level++;
speed-=10;
clearInterval(game);
game=setInterval(draw,speed);
document.getElementById("level").innerText=level;
}
food=randomPos();
}else{
snake.pop();
}

/* POWER UP EFFECT */
if(powerUp && headX===powerUp.x && headY===powerUp.y){
speed+=30; // slow down
clearInterval(game);
game=setInterval(draw,speed);
powerUp=null;
}

snake.unshift(newHead);

/* DRAW SNAKE */
snake.forEach(s=>{
let grad=ctx.createLinearGradient(0,0,420,420);
grad.addColorStop(0,"#00ff66");
grad.addColorStop(1,"#009944");
ctx.fillStyle=grad;
ctx.beginPath();
ctx.arc(s.x+10,s.y+10,10,0,Math.PI*2);
ctx.fill();
});

/* CROWN */
if(level>=5){
ctx.font="30px Arial";
ctx.fillText("ðŸ‘‘",10,30);
}
}

function endGame(){
clearInterval(game);
document.getElementById("gameOver").style.display="flex";
document.getElementById("finalScore").innerText=score;
if(score>highScore){
highScore=score;
localStorage.setItem("godHigh",highScore);
document.getElementById("highScore").innerText=highScore;
}
}
</script>

</body>
</html>
